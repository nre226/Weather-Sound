<!DOCTYPE html>
<html>
<head>
  <title>Weather Music</title>
  
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"> </script>
  <link rel="stylesheet" type="text/css" href="search.css" />
  <link rel="stylesheet" type="text/css" href="title.css" />
</head>
<body>
<section class="search_bar">
  <h1 class="heading heading-correct-pronounciation">
    The
    <em>Weather Music</em>
   Listen to the songs that correspond to the weather!
  </h1>
	<form id="form1" action="weather.html" method="">		    
		<input name="location" type="text" placeholder="What is your location?">		    	
		<button onclick="outputlocation()" >Search</button>
	
	</form>
</section>

<script type="text/javascript">

var wd;

function printTemp(ftemp){
	document.write(" stuff "+ ftemp);
	return ftemp;
};

function Get_Weather_City(location){
var APIKEY = "e1260a138991d0c4ae5e9950355c71fc";

	//var location = "Lexington";
	var loc = location + ',us';
	console.log(loc);
	$.getJSON('http://api.openweathermap.org/data/2.5/weather?q=' + loc + '&APPID=' + APIKEY, function(apiData) {
		wd=apiData;
		console.log("Weather data ,", wd.main);
		
		var currentLocation = wd.name;
		var currentTemp = printTemp(wd.main.temp);
		var currentWeather= wd.weather[0].id;
		document.write(" currentTemp "+currentTemp);
		document.write(" id "+currentWeather);
				
	})

}

function Get_Weather_Zip(zip){
	//var zip = "40506";
	var loc = zip + ',us';
	console.log(loc);
	$.getJSON('http://api.openweathermap.org/data/2.5/weather?zip=' + loc + '&APPID=' + APIKEY, function(wd) {
		console.log("Weather data ,", wd);
	})
};

function outputlocation() {
	var location, x;
	x = document.getElementById("form1");
	location = x.elements["location"].value;

	 Get_Weather_City(location);
	 
	console.log(location);
	document.write(location);
}
</script>

</body>
</html>